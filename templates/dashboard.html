<!DOCTYPE html>
<html>
<head>
<title>Notemind Dashboard</title>
<meta charset='utf-8' />
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>
  body {
    margin: 40px 10px;
    padding: 0;
    font-family: Arial, Helvetica Neue, Helvetica, sans-serif;
    font-size: 14px;
  }
  .chart-container {
    width: 80%;
    max-width: 900px;
    margin: 50px auto;
  }
</style>
</head>
<body>

  <div id="charts-wrapper"></div>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const datasets = JSON.parse('{{ datasets|safe }}');
      const wrapper = document.getElementById('charts-wrapper');

      for (const metricName in datasets) {
        const data = datasets[metricName];
        
        // Create a container for the chart
        const container = document.createElement('div');
        container.className = 'chart-container';
        
        const canvas = document.createElement('canvas');
        container.appendChild(canvas);
        wrapper.appendChild(container);

        // Create the chart
        new Chart(canvas, {
          type: 'line',
          data: {
            labels: data.labels,
            datasets: [{
              label: metricName,
              data: data.values,
              fill: false,
              borderColor: 'rgb(75, 192, 192)',
              tension: 0.1
            }]
          },
          options: {
            scales: {
              y: {
                beginAtZero: true
              }
            }
          }
        });
      }
    });
  </script>

</body>
</html>
