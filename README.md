# Notemind AI-модуль

Этот репозиторий содержит бэкенд-сервис для интеллектуального планировщика Notemind. Сервис предоставляет API для обработки текста на естественном языке, извлечения из него задач и событий, и автоматического планирования.

## Быстрый старт

### 1. Настройка окружения

- **Создайте виртуальное окружение:**
  ```bash
  python -m venv venv
  ```

- **Активируйте его:**
  - Windows:
    ```bash
    .\venv\Scripts\activate
    ```
  - macOS / Linux:
    ```bash
    source venv/bin/activate
    ```

### 2. Установка зависимостей

Установите все необходимые библиотеки:
```bash
pip install -r notemind_backend/requirements.txt
```

### 3. Настройка переменных окружения

- Создайте файл `.env` в корневой директории проекта, скопировав `.env.example`.
- Пропишите в `.env` ваш ключ для GigaChat:
  ```
  GIGACHAT_CREDENTIALS="Ваш_секретный_ключ"
  ```

### 4. Запуск сервера

Запустите веб-сервер с помощью Uvicorn:
```bash
uvicorn app.main:app --host 0.0.0.0 --port 8000 --reload --app-dir notemind_backend
```
Сервер будет доступен по адресу `http://localhost:8000` и будет автоматически перезагружаться при изменениях в коде.

## Описание API

Сервис предоставляет один основной эндпоинт для обработки запросов.

### `POST /api/v1/process`

Этот эндпоинт принимает текст от пользователя, обрабатывает его с помощью LLM-агента и возвращает ответ в разговорной форме.

**Тело запроса (Request Body):**
```json
{
  "user_id": 123,
  "text": "Завтра в 10 утра созвон, а еще надо сделать презентацию часа на 3"
}
```
- `user_id` (integer, обязательный): Уникальный идентификатор пользователя.
- `text` (string, обязательный): Текст, который нужно обработать.

**Тело ответа (Response Body):**
```json
{
  "reply": "Событие 'созвон' на завтра в 10:00 успешно создано. Задача 'сделать презентацию' создана и автоматически запланирована на [дата и время]."
}
```
- `reply` (string): Ответ ассистента в текстовой форме.

### Интерактивная документация

После запуска сервера, интерактивная документация (Swagger UI) автоматически доступна по адресу:
[http://localhost:8000/docs](http://localhost:8000/docs)

Там вы можете тестировать API прямо из браузера.

## Пример использования

В корне проекта лежит файл `api_example.py`, который демонстрирует, как отправить запрос к API.

Чтобы его запустить, активируйте виртуальное окружение и выполните:
```bash
python api_example.py
```
Вы увидите в консоли тело запроса и ответ от сервера.
